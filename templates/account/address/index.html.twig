{% extends 'base.html.twig' %}

{% block title %}Mes adresses - Sunset Shop{% endblock %}

{% block body %}
<div class="bg-stone-50 min-h-screen py-16">
    <div class="container mx-auto px-4 max-w-4xl">
        
        <div class="flex justify-between items-center mb-10">
            <h1 class="text-3xl font-black text-stone-900">
                Mes adresses <span class="text-orange-500">.</span>
            </h1>
            <a href="{{ path('account_address_add') }}" class="px-6 py-3 bg-stone-900 text-white font-bold rounded-xl hover:bg-orange-600 transition">
                + Ajouter une adresse
            </a>
        </div>

        {# Retour au compte #}
        <a href="{{ path('app_account') }}" class="text-stone-500 hover:text-stone-800 font-bold mb-6 inline-block">
            &larr; Retour à mon compte
        </a>

        {% if app.user.addresses is empty %}
            <div class="bg-white p-10 rounded-3xl text-center shadow-lg border border-stone-100">
                <p class="text-stone-500 mb-6">Vous n'avez pas encore ajouté d'adresse de livraison.</p>
                <a href="{{ path('account_address_add') }}" class="text-orange-500 font-bold hover:underline">Ajouter ma première adresse</a>
            </div>
        {% else %}
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                {% for address in app.user.addresses %}
                    <div class="bg-white p-6 rounded-3xl shadow-md border border-stone-100 relative group hover:shadow-xl transition">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="font-bold text-lg text-stone-900">{{ address.name }}</h3>
                            <a href="{{ path('account_address_edit', {id: address.id}) }}" class="text-stone-400 hover:text-orange-500 text-sm">Modifier</a>
                        </div>
                        
                        <p class="text-stone-600 font-bold">{{ address.firstname }} {{ address.lastname }}</p>
                        <p class="text-stone-500">{{ address.address }}</p>
                        <p class="text-stone-500">{{ address.zipcode }} {{ address.city }}</p>
                        <p class="text-stone-500">{{ address.country }}</p>
                        <div class="mt-4 pt-4 border-t border-stone-100 flex justify-between items-center">
                            <span class="text-xs text-stone-400">{{ address.phone }}</span>
                            <a href="{{ path('account_address_delete', {id: address.id}) }}" class="text-rose-500 text-xs font-bold hover:text-rose-700" onclick="return confirm('Supprimer cette adresse ?')">Supprimer</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}